apiVersion: tekton.dev/v1alpha1
kind: Task
metadata:
  name: mvn-code-analysis
spec:
  inputs:
    resources:
    - name: source
      targetPath: /
      type: git
  outputs:
    resources:
    - name: source
      type: git
  steps:
  - name: build
    image: maven:3.6.0-jdk-8-slim
    command:
    - /usr/bin/mvn
    args:
    - |
      -s configuration/cicd-settings-nexus3.xml sonar:sonar -Dsonar.host.url=http://sonarqube:9000 -DskipTests=true
